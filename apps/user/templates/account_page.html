{% extends "main.html" %}

{% block title %}Account Page{% endblock %}

{% block main %}
  <h2>Hello, {{ user.username }}!</h2>

  <h3>Change Email</h3>
  <form method="post">
    {% csrf_token %}
    {{ email_form.non_field_errors }}

    <label for="{{ email_form.email.id_for_label }}">{{ email_form.email.label }}</label><br>
    {{ email_form.email }}<br><br>

    <label for="{{ email_form.confirm_email.id_for_label }}">{{ email_form.confirm_email.label }}</label><br>
    {{ email_form.confirm_email }}<br><br>

    <label for="{{ email_form.password.id_for_label }}">{{ email_form.password.label }}</label><br>
    {{ email_form.password }}<br><br>

    <button type="submit" name="email_submit">Update Email</button>
  </form>

  <hr>

  <h3>Change Password</h3>
  <form method="post">
    {% csrf_token %}
    {{ password_form.non_field_errors }}

    <label for="{{ password_form.old_password.id_for_label }}">{{ password_form.old_password.label }}</label><br>
    {{ password_form.old_password }}<br><br>

    <label for="{{ password_form.new_password1.id_for_label }}">{{ password_form.new_password1.label }}</label><br>
    {{ password_form.new_password1 }}<br><br>

    <label for="{{ password_form.new_password2.id_for_label }}">{{ password_form.new_password2.label }}</label><br>
    {{ password_form.new_password2 }}<br><br>

    <button type="submit" name="password_submit">Change Password</button>
  </form>

  <hr>

  <h3>Delete Account</h3>
  <form method="post" action="{% url 'account_delete' %}">
    {% csrf_token %}
    <button type="submit">Delete Account</button>
  </form>
{% endblock %}
